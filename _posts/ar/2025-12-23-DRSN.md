---
layout: post
title: "<div style='text-align: center; direction: rtl;'>Deep Residual Shrinkage Network: طريقة ذكاء اصطناعي للبيانات ذات الضجيج العالي</div>"
subtitle: "<div style='text-align: center; direction: ltr;'>An AI Method for Highly Noisy Data</div>"
date: 2025-12-23
author: "Minghang Zhao, Harbin Institute of Technology"
tags: [Deep Learning, AI]
mathjax: true
description: "تُعد Deep Residual Shrinkage Network (التي يمكن ترجمتها إلى شبكة الانكماش المتبقية العميقة) نسخة مُحسنة من Deep Residual Network (أو ما يُعرف بـ ResNet). وهي في الجوهر عبارة عن دمج بين ثلاثة عناصر: Deep Residual Network، وآليات الانتباه (Attention Mechanisms)، ودوال العتبة الناعمة (Soft Thresholding)."
lang: ar
dir: rtl
categories: ar
ref: drsn-2025
buttons:
  - type: hit
    text: HIT Homepage
    url: https://homepage.hit.edu.cn/zhaominghang?lang=zh
  - type: scholar
    text: Google Scholar
    url: https://scholar.google.com/citations?user=k82TzLwAAAAJ&hl=en
  - type: ieee
    text: IEEE Paper
    url: https://ieeexplore.ieee.org/document/8850096
  - type: github
    text: GitHub Code
    url: https://github.com/zhao62/Deep-Residual-Shrinkage-Networks
  - type: citation
    text: "Citations: 1400+"
    url: https://scholar.google.com/citations?user=k82TzLwAAAAJ&hl=en
---

<!-- 核心修正：添加一段强制样式的 CSS -->
<style>
  /* 1. 强制所有层级的标题 (H1-H6) 必须右对齐 */
  h1, h2, h3, h4, h5, h6 {
    text-align: right !important;
  }
  
  /* 2. 确保正文里的列表也靠右 */
  ul, ol {
    text-align: right !important;
    direction: rtl !important;
    padding-right: 40px; /* 让列表的小圆点出现在右侧 */
    padding-left: 0;
  }

  /* 3. 强制代码块 (BibTeX) 从左向右显示，否则代码会乱 */
  pre, code {
    text-align: left !important;
    direction: ltr !important;
  }
  
  /* 4. 确保参考文献列表中的英文左对齐 */
  .references-ltr {
    text-align: left !important;
    direction: ltr !important;
  }
</style>

<!-- 保持之前的 markdown="1" 容器不变 -->
<div dir="rtl" markdown="1" style="text-align: right; direction: rtl; font-family: 'Sakkal Majalla', 'Traditional Arabic', serif; font-size: 1.1em;">

تُعد <strong>Deep Residual Shrinkage Network</strong> (التي يمكن ترجمتها إلى "شبكة الانكماش المتبقية العميقة") نسخة مُحسنة من <strong>Deep Residual Network</strong> (أو ما يُعرف بـ <strong>ResNet</strong>). وهي في الجوهر عبارة عن دمج بين ثلاثة عناصر: <strong>Deep Residual Network</strong>، وآليات الانتباه (<strong>Attention Mechanisms</strong>)، ودوال العتبة الناعمة (<strong>Soft Thresholding</strong>).

إلى حد معين، يمكن فهم مبدأ عمل <strong>Deep Residual Shrinkage Network</strong> كالتالي: تقوم الشبكة باستخدام <strong>Attention Mechanism</strong> لملاحظة الميزات (Features) غير المهمة، ثم تستخدم <strong>Soft Thresholding</strong> لتحويل قيم هذه الميزات إلى صفر؛ وبالمقابل، تلاحظ الميزات المهمة وتبقي عليها. هذه العملية تعزز قدرة الشبكة العصبية العميقة (<strong>Deep Neural Network</strong>) على استخراج الميزات المفيدة من الإشارات التي تحتوي على ضجيج (<strong>Noise</strong>).

## 1. دافع البحث (Research Motivation)

**أولاً، عند تصنيف العينات (Samples)، من المحتم وجود بعض الضجيج (<strong>Noise</strong>)، مثل <strong>Gaussian Noise</strong>، و <strong>Pink Noise</strong>، و <strong>Laplacian Noise</strong> وغيرها.** وبمفهوم أوسع، غالباً ما تحتوي العينات على معلومات لا علاقة لها بمهمة التصنيف الحالية، ويمكن اعتبار هذه المعلومات أيضاً بمثابة "ضجيج". هذا الضجيج قد يؤثر سلباً على دقة التصنيف. (تُعد <strong>Soft Thresholding</strong> خطوة أساسية في العديد من خوارزميات إزالة الضجيج من الإشارات أو ما يسمى <strong>Signal Denoising</strong>).

على سبيل المثال، عند التحدث بجانب الطريق، قد يختلط صوت المحادثة بأصوات أبواق السيارات وعجلات المركبات. عند إجراء "التعرف على الكلام" (<strong>Speech Recognition</strong>) على هذه الإشارات الصوتية، ستتأثر النتيجة حتماً بهذه الأصوات الدخيلة. من منظور <strong>Deep Learning</strong>، يجب حذف الميزات (<strong>Features</strong>) التي تمثل أصوات الأبواق والعجلات داخل الشبكة العصبية، لتجنب تأثيرها على دقة التعرف على الكلام.

**ثانياً، حتى داخل مجموعة البيانات (<strong>Dataset</strong>) الواحدة، غالباً ما تختلف كمية الضجيج من عينة إلى أخرى.** (هذا يتشابه مع <strong>Attention Mechanism</strong>؛ فإذا أخذنا مجموعة صور كمثال، قد يختلف موقع "الجسم المستهدف" من صورة لأخرى؛ وهنا تقوم آلية الانتباه بالتركيز على الموقع المحدد للجسم في كل صورة على حدة).

لنفترض مثلاً أننا ندرب مُصنِّفاً للقطط والكلاب. بالنسبة لـ 5 صور تحمل علامة "كلب": الصورة الأولى قد تحتوي على كلب وفأر، الثانية كلب وإوزة، الثالثة كلب ودجاجة، الرابعة كلب وحمار، والخامسة كلب وبطة. عند تدريب المُصنِّف، سنتعرض حتماً لتشويش من الكائنات غير ذات الصلة (الفأر، الإوزة، الدجاجة، الحمار، البطة)، مما يقلل من دقة التصنيف. إذا تمكنا من ملاحظة هذه الكائنات الدخيلة وحذف الميزات (<strong>Features</strong>) الخاصة بها، فمن المحتمل أن نرفع دقة تصنيف القطط والكلاب.

## 2. العتبة الناعمة (Soft Thresholding)

**تُعتبر <strong>Soft Thresholding</strong> خطوة جوهرية في العديد من خوارزميات <strong>Signal Denoising</strong>. فهي تقوم بحذف الميزات التي تكون قيمتها المطلقة أقل من عتبة (<strong>Threshold</strong>) معينة، وتقوم بـ "تقليص" (Shrink) الميزات التي تكون قيمتها المطلقة أكبر من هذه العتبة باتجاه الصفر.** يمكن التعبير عنها بالمعادلة التالية:

$$
y = \begin{cases} 
x - \tau & x > \tau \\ 
0 & -\tau \le x \le \tau \\ 
x + \tau & x < -\tau 
\end{cases}
$$

أما مُشتقة دالة <strong>Soft Thresholding</strong> بالنسبة للمُدخل فهي:

$$
\frac{\partial y}{\partial x} = \begin{cases} 
1 & x > \tau \\ 
0 & -\tau \le x \le \tau \\ 
1 & x < -\tau 
\end{cases}
$$

كما نلاحظ أعلاه، فإن مشتقة <strong>Soft Thresholding</strong> تكون إما 1 أو 0. هذه الخاصية مماثلة لدالة التفعيل <strong>ReLU</strong>. لذلك، فإن <strong>Soft Thresholding</strong> تساعد أيضاً في تقليل مخاطر تعرض خوارزميات <strong>Deep Learning</strong> لمشاكل تلاشي التدرج (<strong>Gradient Vanishing</strong>) أو انفجار التدرج (<strong>Gradient Exploding</strong>).

**في دالة <strong>Soft Thresholding</strong>، يجب أن يحقق إعداد العتبة (<strong>Threshold</strong>) شرطين: الأول، أن تكون العتبة رقماً موجباً؛ والثاني، ألا تكون العتبة أكبر من القيمة العظمى للإشارة المُدخلة، وإلا ستكون المخرجات جميعها أصفاراً.**

**بالإضافة إلى ذلك، يُفضل أن تحقق العتبة شرطاً ثالثاً: يجب أن يكون لكل عينة عتبة مستقلة خاصة بها بناءً على كمية الضجيج التي تحتويها.**

السبب في ذلك هو أن محتوى الضجيج يختلف غالباً بين العينات. فمثلاً، من الشائع في نفس مجموعة البيانات أن تحتوي العينة A على ضجيج قليل، بينما تحتوي العينة B على ضجيج كثير. في هذه الحالة، عند تطبيق <strong>Soft Thresholding</strong> داخل خوارزمية إزالة الضجيج، يجب أن تستخدم العينة A عتبة صغيرة، بينما تستخدم العينة B عتبة كبيرة. في الشبكات العصبية العميقة، ورغم أن هذه الميزات والعتبات تفقد معانيها الفيزيائية الملموسة، إلا أن المنطق الأساسي يظل كما هو. بمعنى آخر، يجب أن تمتلك كل عينة عتبة مستقلة خاصة بها تتناسب مع محتواها من الضجيج.

## 3. آلية الانتباه (Attention Mechanism)

من السهل فهم <strong>Attention Mechanism</strong> في مجال الرؤية الحاسوبية (<strong>Computer Vision</strong>). فالنظام البصري لدى الحيوانات يمكنه مسح كامل المنطقة بسرعة لاكتشاف الجسم المستهدف، ومن ثم تركيز الانتباه عليه لاستخراج تفاصيل أكثر، مع تجاهل المعلومات غير ذات الصلة. لمزيد من التفاصيل، يرجى الرجوع إلى الأبحاث المتعلقة بـ <strong>Attention Mechanism</strong>.

تُعد شبكة <strong>Squeeze-and-Excitation Network (SENet)</strong> طريقة حديثة نسبياً في <strong>Deep Learning</strong> تعتمد على آليات الانتباه. في العينات المختلفة، تختلف مساهمة "قنوات الميزات" (<strong>Feature Channels</strong>) المختلفة في مهمة التصنيف. تستخدم <strong>SENet</strong> شبكة فرعية صغيرة للحصول على مجموعة من الأوزان (<strong>Weights</strong>)، ثم تضرب هذه الأوزان في ميزات القنوات المختلفة لضبط حجم الميزات في كل قناة. يمكن اعتبار هذه العملية بمثابة تطبيق درجات متفاوتة من "الانتباه" على قنوات الميزات المختلفة.

<p align="center">
  <img src="/assets/img/DRSN/2025-12-01-DRSN-ar/SENET_ar_1.png" alt="Squeeze-and-Excitation Network" width="90%">
</p>

بهذه الطريقة، تمتلك كل عينة مجموعة مستقلة من الأوزان. بعبارة أخرى، الأوزان الخاصة بأي عينتين تكون مختلفة. في <strong>SENet</strong>، المسار المحدد للحصول على الأوزان هو: "**Global Pooling** ← **Fully Connected Layer** ← **ReLU** ← **Fully Connected Layer** ← **Sigmoid**".

<p align="center">
  <img src="/assets/img/DRSN/2025-12-01-DRSN-ar/SENET_ar_2.png" alt="Squeeze-and-Excitation Network" width="60%">
</p>

## 4. تطبيق Soft Thresholding تحت مظلة Deep Attention Mechanism

استوحت <strong>Deep Residual Shrinkage Network</strong> هيكلية الشبكة الفرعية من <strong>SENet</strong> المذكورة أعلاه، لتحقيق <strong>Soft Thresholding</strong> ضمن آلية انتباه عميقة. من خلال الشبكة الفرعية (الموضحة داخل الإطار الأحمر في المخططات الهيكلية)، يمكن تعلم مجموعة من العتبات لتطبيق <strong>Soft Thresholding</strong> على كل قناة من قنوات الميزات.

<p align="center">
  <img src="/assets/img/DRSN/2025-12-01-DRSN-ar/DRSN_ar_1.png" alt="Deep Residual Shrinkage Network" width="75%">
</p>

في هذه الشبكة الفرعية، يتم أولاً حساب القيم المطلقة لجميع الميزات في خريطة الميزات (<strong>Feature Map</strong>). ثم، من خلال <strong>Global Average Pooling</strong> وحساب المتوسط، نحصل على ميزة نرمز لها بـ A. في مسار آخر، يتم إدخال خريطة الميزات (بعد عملية الـ Global Average Pooling) إلى شبكة صغيرة متصلة بالكامل (<strong>Fully Connected Network</strong>). تنتهي هذه الشبكة بدالة <strong>Sigmoid</strong> كآخر طبقة لضبط المخرجات بين 0 و 1، مما يعطينا معاملاً نرمز له بـ α.
يمكن التعبير عن العتبة النهائية بـ α × A. وبالتالي، العتبة هي عبارة عن: (رقم بين 0 و 1) × (متوسط القيم المطلقة لخريطة الميزات). **تضمن هذه الطريقة أن تكون العتبة موجبة، وألا تكون كبيرة جداً في نفس الوقت.**

**علاوة على ذلك، ستحصل العينات المختلفة على عتبات مختلفة. لذلك، إلى حد معين، يمكن فهم هذا كنوع خاص من <strong>Attention Mechanism</strong>: حيث تلاحظ الشبكة الميزات غير المتعلقة بالمهمة الحالية، وتقوم بتحويلها عبر طبقتين من <strong>Convolutional Layers</strong> إلى قيم قريبة من الصفر، ثم تستخدم <strong>Soft Thresholding</strong> لجعلها صفراً تماماً؛ أو تلاحظ الميزات المتعلقة بالمهمة، وتحولها إلى قيم بعيدة عن الصفر، لتقوم بالاحتفاظ بها.**

أخيراً، من خلال تكديس عدد معين من الوحدات الأساسية بالإضافة إلى <strong>Convolutional Layers</strong>، و <strong>Batch Normalization</strong>، و <strong>Activation Functions</strong>، و <strong>Global Average Pooling</strong>، وطبقة الإخراج <strong>Fully Connected Layer</strong>، نحصل على <strong>Deep Residual Shrinkage Network</strong> الكاملة.

<p align="center">
  <img src="/assets/img/DRSN/2025-12-01-DRSN-ar/DRSN_ar_2.png" alt="Deep Residual Shrinkage Network" width="55%">
</p>

## 5. قابلية التعميم (Generalization Capability)

في الواقع، تُعد <strong>Deep Residual Shrinkage Network</strong> طريقة عامة لتعلم الميزات (<strong>Feature Learning</strong>). وذلك لأن العينات في العديد من مهام تعلم الميزات تحتوي، بدرجة أو بأخرى، على بعض الضجيج والمعلومات غير ذات الصلة. هذا الضجيج والمعلومات غير المهمة قد تؤثر على جودة التعلم. على سبيل المثال:

في تصنيف الصور (<strong>Image Classification</strong>)، إذا كانت الصورة تحتوي على العديد من الأشياء الأخرى في نفس الوقت، يمكن اعتبار هذه الأشياء "ضجيجاً". قد تتمكن <strong>Deep Residual Shrinkage Network</strong>، بمساعدة <strong>Attention Mechanism</strong>، من ملاحظة هذا "الضجيج"، ثم استخدام <strong>Soft Thresholding</strong> لجعل الميزات المقابلة لهذا الضجيج صفراً، مما قد يرفع من دقة تصنيف الصور.

في التعرف على الكلام (<strong>Speech Recognition</strong>)، خاصة في البيئات الصاخبة مثل المحادثات بجانب الطريق أو داخل ورش المصانع، قد تتمكن <strong>Deep Residual Shrinkage Network</strong> من تحسين دقة التعرف على الكلام، أو على الأقل تقديم منهجية قادرة على تحسين الدقة.


## 6. التأثير الأكاديمي (Academic Impact)

تجاوز عدد الاستشهادات بهذه الورقة البحثية في "Google Scholar" أكثر من 1400 استشهاد.

وفقاً لإحصائيات غير كاملة، تم استخدام <strong>Deep Residual Shrinkage Networks</strong> (أو تحسينها وتطبيقها) في أكثر من 1000 بحث منشور في مجالات متعددة تشمل الهندسة الميكانيكية، والطاقة الكهربائية، والرؤية الحاسوبية، والمجال الطبي، ومعالجة الصوت والنصوص، والرادار، والاستشعار عن بعد.

## 7. معلومات البحث (Paper Info)

<div style="background-color: #fff; border: 1px solid #e1e4e8; border-radius: 6px; padding: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); margin-bottom: 20px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;">
    
    <!-- 1. 论文标题 -->
    <div style="font-size: 18px; font-weight: 700; color: #0366d6; margin-bottom: 8px; line-height: 1.4;">
        <a href="https://ieeexplore.ieee.org/document/8850096" target="_blank" style="text-decoration: none; color: inherit; transition: color 0.2s;">
            Deep Residual Shrinkage Networks for Fault Diagnosis
        </a>
    </div>

    <!-- 2. 作者列表 -->
    <div style="font-size: 14px; color: #24292e; margin-bottom: 6px; line-height: 1.5;">
        <strong>Minghang Zhao</strong>, Shisheng Zhong, Xuyun Fu, Baoping Tang, Michael Pecht
    </div>

    <!-- 3. 期刊信息 -->
    <div style="font-size: 14px; color: #586069; font-style: italic; margin-bottom: 15px; line-height: 1.5;">
        IEEE Transactions on Industrial Informatics, vol. 16, no. 7, pp. 4681-4690, July 2020.
    </div>

    <!-- 4. 操作按钮行 (Mobile & Desktop Perfect) -->
    <div style="display: flex; gap: 8px; flex-wrap: wrap; align-items: center;">
        
        <!-- IEEE 官方链接 -->
        <a href="https://ieeexplore.ieee.org/document/8850096" target="_blank" style="text-decoration: none;">
            <div style="background: #00629B; color: white; padding: 5px 12px; border-radius: 4px; font-size: 12px; font-weight: 600; text-align: center; cursor: pointer; white-space: nowrap; line-height: normal; font-family: inherit;">
                IEEE Xplore
            </div>
        </a>

        <!-- PDF 下载 -->
        <a href="https://zhao62.github.io/assets/pdf/Zhao2020DRSN.pdf" target="_blank" style="text-decoration: none;">
            <div style="background: #cb2431; color: white; padding: 5px 12px; border-radius: 4px; font-size: 12px; font-weight: 600; text-align: center; cursor: pointer; white-space: nowrap; line-height: normal; font-family: inherit;">
                Download PDF
            </div>
        </a>

        <!-- 谷歌学术 -->
        <a href="https://scholar.google.com/citations?user=k82TzLwAAAAJ&hl=en" target="_blank" style="text-decoration: none;">
            <div style="background: #fff; color: #24292e; border: 1px solid #d1d5da; padding: 4px 11px; border-radius: 4px; font-size: 12px; font-weight: 600; text-align: center; cursor: pointer; white-space: nowrap; line-height: normal; font-family: inherit;">
                Google Scholar
            </div>
        </a>

        <!-- 复制纯文本按钮 -->
        <button id="btn-copy-cite-text-zhao2020" onclick="copyCitationText('citation-content-zhao2020', 'btn-copy-cite-text-zhao2020')" style="background: #f6f8fa; color: #24292e; border: 1px solid #d1d5da; padding: 4px 11px; border-radius: 4px; font-size: 12px; font-weight: 600; cursor: pointer; outline: none; font-family: inherit; line-height: normal;">
            Copy Citation
        </button>
    </div>

    <!-- 隐藏的纯文本源 -->
    <div id="citation-content-zhao2020" style="display: none;">M. Zhao, S. Zhong, X. Fu, B. Tang, and M. Pecht, "Deep Residual Shrinkage Networks for Fault Diagnosis," IEEE Transactions on Industrial Informatics, vol. 16, no. 7, pp. 4681-4690, 2020.</div>
</div>

<script>
function copyCitationText(contentId, btnId) {
    var content = document.getElementById(contentId).innerText;
    var btn = document.getElementById(btnId);

    function handleSuccess() {
        var originalText = btn.innerText;
        // 使用 textContent 兼容性更好
        btn.textContent = 'Copied! ✓';
        btn.style.color = '#22863a';
        btn.style.borderColor = '#22863a';
        setTimeout(function() {
            btn.textContent = 'Copy Citation';
            btn.style.color = '#24292e';
            btn.style.borderColor = '#d1d5da';
        }, 2000);
    }

    function handleError(err) {
        console.error('Copy failed', err);
        // 如果失败，不做任何操作，或者可以 alert
    }

    // 优先使用现代 Clipboard API
    if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(content).then(handleSuccess).catch(function() {
            fallbackCopyText(content);
        });
    } else {
        fallbackCopyText(content);
    }

    // 终极兼容：使用 execCommand
    function fallbackCopyText(text) {
        try {
            var textArea = document.createElement("textarea");
            textArea.value = text;
            
            // 关键优化：防止手机端弹出键盘
            textArea.setAttribute('readonly', '');
            textArea.style.position = "fixed";
            textArea.style.left = "-9999px";
            textArea.style.top = "0";
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            // 针对 iOS 的特殊处理
            var range = document.createRange();
            range.selectNodeContents(textArea);
            var selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            textArea.setSelectionRange(0, 999999);

            var successful = document.execCommand('copy');
            document.body.removeChild(textArea);
            
            if (successful) handleSuccess();
            else handleError('execCommand fail');
        } catch (err) {
            handleError(err);
        }
    }
}
</script>

## BibTeX

<!-- 终极兼容版 BibTeX 块 -->
<div class="bibtex-container" style="border: 1px solid #e1e4e8; border-radius: 6px; background-color: #f6f8fa; margin-bottom: 16px; max-width: 100%;">
    
    <!-- 顶部工具栏 -->
    <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 12px; border-bottom: 1px solid #e1e4e8; background-color: #ffffff; border-radius: 6px 6px 0 0;">
        <span style="font-size: 13px; font-weight: 600; color: #586069; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;">
            BibTeX
        </span>
        <button id="copy-btn-zhao2020" onclick="copyBibtexStable('bibtex-content-zhao2020', 'copy-btn-zhao2020')" style="border: 1px solid #d1d5da; background-color: #fff; color: #24292e; border-radius: 4px; padding: 4px 10px; font-size: 12px; cursor: pointer; font-weight: 600; line-height: 20px; transition: all 0.2s ease; outline: none;">
            Copy
        </button>
    </div>

    <!-- 代码区域 -->
    <div style="overflow-x: auto; padding: 15px;">
<!-- 注意：这里的第一行已经改成了 @article{Zhao2020DRSN, -->
<pre id="bibtex-content-zhao2020" style="margin: 0; font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace; font-size: 13px; line-height: 1.45; color: #24292e; white-space: pre;">@article{Zhao2020DRSN,
  author    = {Minghang Zhao and Shisheng Zhong and Xuyun Fu and Baoping Tang and Michael Pecht},
  title     = {Deep Residual Shrinkage Networks for Fault Diagnosis},
  journal   = {IEEE Transactions on Industrial Informatics},
  year      = {2020},
  volume    = {16},
  number    = {7},
  pages     = {4681-4690},
  doi       = {10.1109/TII.2019.2943898}
}</pre>
    </div>
</div>

<script>
/**
 * 高兼容性复制函数
 */
function copyBibtexStable(contentId, btnId) {
    var content = document.getElementById(contentId).innerText;
    var btn = document.getElementById(btnId);

    function handleSuccess() {
        btn.innerText = 'Copied! ✓';
        btn.style.color = '#22863a';
        btn.style.borderColor = '#22863a';
        setTimeout(function() {
            btn.innerText = 'Copy';
            btn.style.color = '#24292e';
            btn.style.borderColor = '#d1d5da';
        }, 2000);
    }

    function handleError(err) {
        console.error('Copy failed:', err);
        alert('Press Ctrl+C to copy');
    }

    if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(content).then(handleSuccess).catch(function() {
            fallbackCopy(content);
        });
    } else {
        fallbackCopy(content);
    }

    function fallbackCopy(text) {
        try {
            var textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.position = "fixed";
            textArea.style.left = "-9999px";
            textArea.style.top = "0";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            var successful = document.execCommand('copy');
            document.body.removeChild(textArea);
            if (successful) handleSuccess();
            else handleError('execCommand returned false');
        } catch (err) {
            handleError(err);
        }
    }
}
</script>
